Reveal.addEventListener( 'charge-example', function() {
    data = {
        "seq": [
            {
                "type": "protein",
                "scale": "charge_pH4",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 31,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#df9a8c",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH5",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 31,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#e6b6ac",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH6",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 31,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#ebd2cc",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH7",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 31,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#eeeeee",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH8",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 31,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#b1c0d0",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH9",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 31,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#7494b3",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH10",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 31,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#2c6b96",
                "active": true,
                "visible": true,
                "profile": []
            }
            
        ],
        "title": "test"
    };
    corList = {};
    drawingProfiles(data, "#charge_example");
} );

Reveal.addEventListener( 'charge-movie', function() {
    data = {
        "seq": [
            {
                "type": "protein",
                "scale": "charge_pH4",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 1,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#df9a8c",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH5",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 1,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#e6b6ac",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH6",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 1,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#ebd2cc",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH7",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 1,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#eeeeee",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH8",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 1,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#b1c0d0",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH9",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 1,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#7494b3",
                "active": true,
                "visible": true,
                "profile": []
            },
            {
                "type": "protein",
                "scale": "charge_pH10",
                "sequence": "MDLTVEPNLHSLITSTTHKWIFVGGKGGVGKTTSSCSIAIQMALSQPNKQFLLISTDPAHNLSDAFGEKFGKDARKVTGMNNLSCMEIDPSAALKDMNDMAVSRANNNGSDGQGDDLGSLLQGGALADLTGSIPGIDEALSFMEVMKHIKRQEQGEGETFDTVIFDTAPTGHTLRFLQLPNTLSKLLEKFGEITNKLGPMLNSFMGAGNVDISGKLNELKANVETIRQQFTDPDLTTFVCVCISEFLSLYETERLIQELISYDMDVNSIIVNQLLFAENDQEHNCKRCQARWKMQKKYLDQIDELYEDFHVVKMPLCAGEIRGLNNLTKFSQFLNKEYNPITDGKVIYELEDKE",
                "window": 1,
                "shift": 0,
                "smoothing_method": "boxcar",
                "name": "ATPase GET3 - pH 4",
                "organism": "S. cerevisiae",
                "thickness": 2,
                "color": "#2c6b96",
                "active": true,
                "visible": true,
                "profile": []
            }
            
        ],
        "title": "test"
    };
    corList = {};
    drawingProfiles(data, "#charge_movie");
    scale.protein['chargeExample'] = {'0' : 14.5, '1' : -6.1, '2' : -12.9, '3' : -16.5, '4' : -19.1, '5' : -23.5, '6' : -30.8}
    var fps = 24;
    var animation = setInterval( function() {
        for (element in data.seq) {
            if (data.seq[element].window < data.seq[element].sequence.length) {
                data.seq[element].window += 1;
            } else {
                data.seq[element].sequence = element.toString().repeat(data.seq[element].window);
                data.seq[element].scale = 'chargeExample';
                data.seq[element].thickness = 20;
            }
            
        }
        drawingProfiles(data, "#charge_movie");
        if (data.seq[0].thickness == 20) {
            clearInterval(animation);
        }
    }, 1000/fps);
} );